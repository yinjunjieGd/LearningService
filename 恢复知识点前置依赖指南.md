# 恢复知识点前置依赖指南

## 问题说明

发现知识点表（`knowledge_points`）中的`prerequisiteId`字段全部变成了`NULL`，这是由于数据清理操作导致的。

## 如何恢复知识点前置依赖

请按照以下简单步骤恢复知识点表中的`prerequisiteId`字段：

### 方法1：使用Maven命令（推荐）

在项目根目录下打开命令提示符（CMD）或PowerShell，运行以下命令：

```powershell
mvn spring-boot:run -Dspring-boot.run.arguments=restore-knowledge-points-prerequisites
```

### 方法2：运行测试类

找到并运行`KnowledgePointsPrerequisiteRestorationTest.java`测试类中的`restoreKnowledgePointsPrerequisites()`方法。

## 验证恢复结果

恢复完成后，系统会自动显示恢复结果，包括：
- 总知识点数
- 已设置`prerequisiteId`的知识点数
- `prerequisiteId`仍为`NULL`的知识点数（这些知识点本身就是没有前置依赖的）

如果需要单独验证恢复结果，可以运行`verifyPrerequisiteRestoration()`测试方法。

## 防止问题再次发生

我们已经修复了数据清理逻辑，现在执行数据清理操作时不会再清空`prerequisiteId`字段。

## 常见问题

**Q**: 为什么有些知识点的`prerequisiteId`仍然为`NULL`？
**A**: 因为这些知识点本身就是没有前置依赖的，如每个课程的第一个知识点。

**Q**: 运行恢复工具会影响其他数据吗？
**A**: 不会，恢复工具只会更新`prerequisiteId`为`NULL`的记录，不会影响其他数据。